### 2020.02.18(화)

##### iOS-Weather앱을 보며

- MainUI

  > 화면에 뷰들을 구성할 때 벽에다 연결하는 대신 다른 뷰끼리 연결을하는 것의 장점은
  >
  > 상위뷰의 간격을 조절함에 따라 하위 뷰들도 같이 간격이 조절 되기 때문에 나중에 수정이 쉽다.
  >
  > 즉, 하나의 앵커되는 뷰가 있고 거기에 연결을 시켜주면 좋다.

- Singleton Pattern

  - 특정용도로 객체를 하나 생성하여 공용으로 사용하고 싶을 때 사용하는 방식

  - 주로 환경설정, 로그인 정보 등을 특정용도로 생성해둔 객체에 넣어두고 여러 객체에서 접근 가능하도록 하여 데이터를 사용하는 것

  - 따라서 특정 객체가 앱에서 유일하게 하나만 존재하여 다른 객체들이 그 안의 내용을 공유할 수 있음.

    ```swift
    class WeatherDataSource {
        static let shared = WeatherDataSource()
    }
    ```

    이와같이 클래스를 정의할 때 내부에 해당 클래스와 같은 타입의 프로퍼티를 생성하여 객체를 생성하지 않아도 접근이 가능하도록 함. 이때 static 전역변수로 선언하게 되는데, 이 프로퍼티는 lazy되기 때문에 처음 WeatherDataSource를 생성하기 전까지는 메모리에 올라가지 않음.

  - 위처럼 하면 싱글톤 객체가 생성이 여러번 될 수 있고, 이는 싱글톤의 목적에 어긋난다.

    ```swift
    class WeatherDataSource {
        static let shared = WeatherDataSource()
        
        private init() {}
    }
    ```

    따라서 이렇게 생성자를 private으로 제한해서 외부에서 인스턴트를 생성하지 못하도록 강제하여, 유니크한 싱글톤으로 만든다.

  - 즉, 이렇게 하면 하나의 싱글톤 인스턴스가 유지되어 여러 객체가 하나의 인스턴스에 접근하여 데이터를 공유할 수 있다.

